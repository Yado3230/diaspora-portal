(()=>{var e={};e.id=999,e.ids=[999],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},44557:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l});var a=r(67096),s=r(16132),n=r(37284),o=r.n(n),i=r(32564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let l=["",{children:["admin",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80765)),"D:\\Projects\\diaspora-portal\\app\\admin\\accounts\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,70242)),"D:\\Projects\\diaspora-portal\\app\\admin\\accounts\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,82458)),"D:\\Projects\\diaspora-portal\\app\\admin\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,2297)),"D:\\Projects\\diaspora-portal\\app\\admin\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,50353)),"D:\\Projects\\diaspora-portal\\app\\admin\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,54910)),"D:\\Projects\\diaspora-portal\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,88734)),"D:\\Projects\\diaspora-portal\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Projects\\diaspora-portal\\app\\admin\\accounts\\page.tsx"],u="/admin/accounts/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/accounts/page",pathname:"/admin/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},86825:(e,t,r)=>{Promise.resolve().then(r.bind(r,22823))},53748:(e,t,r)=>{Promise.resolve().then(r.bind(r,58091))},50706:(e,t,r)=>{"use strict";r.d(t,{LT:()=>s,RH:()=>l,_H:()=>i,jj:()=>n,tm:()=>c,wh:()=>o});let a="https://10.1.177.121:8881/",s=async e=>{try{let t=new URL(`${a}api/v1/accounts`);t.searchParams.append("sortBy","percentage_completed"),t.searchParams.append("sortDirection","desc"),"include"===e?t.searchParams.append("status","INITIAL"):"exclude"===e&&t.searchParams.append("statusToExclude","INITIAL");let r=await fetch(t.toString()),s=await r.json();return s}catch(e){throw console.error("Error:",e),e}},n=async e=>{try{let t=new URL(`${a}api/v1/accounts/dashboard-report`);e&&t.searchParams.append("year",e.toString());let r=await fetch(t.toString()),s=await r.json();return s}catch(e){throw console.error("Error:",e),e}},o=async e=>{try{let t=new URL(`${a}api/v1/accounts/monthly-dashboard-report`);e&&t.searchParams.append("year",e.toString());let r=await fetch(t.toString()),s=await r.json();return s}catch(e){throw console.error("Error:",e),e}},i=async e=>{try{let t=await fetch(`${a}api/v1/accounts/${e}`);return t.json()}catch(e){throw console.error("Error:",e),e}},c=async e=>{try{let t=await fetch(`${a}api/v1/accounts/${e}`,{method:"DELETE"});if(!t.ok)throw Error(`Request failed with status: ${t.status}`);let r=t.ok;return r}catch(e){throw console.error("Error:",e),e}},l=async(e,t)=>{try{let r=await fetch(`${a}api/v1/accounts/${e}/update-status?status=${t}`,{method:"PUT"});if(!r.ok)throw Error(`Request failed with status: ${r.status}`);let s=r.ok;return s}catch(e){throw console.error("Error:",e),e}}},22823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(53854),s=r(34218),n=r(51018);function o({children:e}){let t=(0,n.useRouter)(),r=localStorage.getItem("authorities");return(0,s.useEffect)(()=>{r?.includes("READ_ACCOUNT")||t.push("/admin")},[r]),a.jsx("div",{children:a.jsx("div",{children:e})})}},58091:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var a=r(53854),s=r(7857),n=r(51613),o=r(51018),i=r(62634),c=r(59744),l=r(22139),d=r(79908),u=r(73549),p=r(70108),h=r(85256),m=r(34218),x=r(31485),g=r(50706);let y=({data:e})=>{let t=e=>{navigator.clipboard.writeText(e),h.Am.success("client ID copied to the clipboard")},r=(0,o.useRouter)(),[n,i]=(0,m.useState)(!1),[y,f]=(0,m.useState)(!1),v=async()=>{try{i(!0),await (0,g.tm)(e.id.toString()),r.refresh(),h.Am.success("Account deleted.")}catch(e){h.Am.error("Something went wrong!")}finally{i(!1),f(!1)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.V,{isOpen:y,onClose:()=>f(!1),onConfirm:v,loading:n}),(0,a.jsxs)(c.h_,{children:[a.jsx(c.$F,{asChild:!0,children:(0,a.jsxs)(s.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(l.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(c.AW,{align:"end",children:[a.jsx(c.Ju,{children:"Actions"}),(0,a.jsxs)(c.Xi,{onClick:()=>t(e.id.toString()),children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Copy ID"]}),(0,a.jsxs)(c.Xi,{onClick:()=>r.push(`/admin/accounts/${e.id.toString()}`),children:[a.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Preview"]}),(0,a.jsxs)(c.Xi,{onClick:()=>f(!0),children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})};var f=r(44728),v=r(39658);let b=[{id:"select",header:({table:e})=>a.jsx(f.X,{checked:e.getIsAllPageRowsSelected(),onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:e})=>a.jsx(f.X,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row",disabled:"success"===e.original.status||"inprogress"===e.original.status}),enableSorting:!1,enableHiding:!1},{accessorKey:"fullName",header:({column:e})=>(0,a.jsxs)(s.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Full Name",a.jsx(i.Z,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"phone",header:({column:e})=>(0,a.jsxs)(s.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Phone Number",a.jsx(i.Z,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"email",header:({column:e})=>(0,a.jsxs)(s.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Email",a.jsx(i.Z,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"sex",header:({column:e})=>(0,a.jsxs)(s.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Gender",a.jsx(i.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=v.Ot.find(t=>t.value===e.getValue("sex"));return t?a.jsx("div",{className:"flex w-[100px] items-center",style:{color:t.color},children:a.jsx("span",{children:t.label})}):null},filterFn:(e,t,r)=>r.includes(e.getValue(t))},{accessorKey:"accountType",header:({column:e})=>(0,a.jsxs)(s.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Account Type",a.jsx(i.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=v.lq.find(t=>t.value===e.getValue("accountType"));return t?a.jsx("div",{className:"flex items-center whitespace-nowrap",style:{color:t.color},children:a.jsx("span",{children:t.label})}):null},filterFn:(e,t,r)=>r.includes(e.getValue(t))},{accessorKey:"status",cell:({row:e})=>{let t=v.Do.find(t=>t.value===e.getValue("status"));return t?(0,a.jsxs)("div",{className:"flex w-[100px] items-center",style:{color:t.color},children:[t.icon&&a.jsx(t.icon,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:t.label})]}):null},filterFn:(e,t,r)=>r.includes(e.getValue(t))},{accessorKey:"createdAt",header:({column:e})=>(0,a.jsxs)(s.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Created At",a.jsx(i.Z,{className:"ml-2 h-4 w-4"})]})},{id:"actions",cell:({row:e})=>a.jsx(y,{data:e.original})}];var j=r(68218),w=r(7599),k=r(69471);let P=({data:e})=>{(0,o.useParams)(),(0,o.useRouter)();let t=localStorage.getItem("authorities");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex border-b pb-2 items-center justify-between",children:[a.jsx(w.X,{title:`Accounts (${e.length})`,description:"Manage Accounts"}),a.jsx("div",{}),a.jsx("div",{className:`${!t?.includes("READ_ACCOUNT")&&"cursor-not-allowed"}`,title:`${!t?.includes("READ_ACCOUNT")&&"Not Authorized"}`,children:(0,a.jsxs)(s.z,{disabled:!t?.includes("READ_ACCOUNT"),size:"sm",className:"bg-cyan-500",onClick:()=>(0,k.Z)("notfiltered",e),title:"disabled",children:[a.jsx(n.Z,{className:"mr-2 h-4 w-4"}),"Export All"]})})]}),a.jsx(j.w,{searchKey:"fullName",clickable:!0,columns:b,data:e})]})};var C=r(49246);let E=()=>{let[e,t]=(0,m.useState)([]);(0,m.useEffect)(()=>{let e=async()=>{let e=await (0,g.LT)("exclude");t(e instanceof Array?e:[])};e()},[]);let r=e.map(e=>({id:e.id,fullName:e.fullName,surname:e.surname,motherName:e.motherName,email:e.email,emailVerified:e.emailVerified,phone:e.phone,streetAddress:e.streetAddress,city:e.city,state:e.state,zipCode:e.zipCode,country:e.country,occupation:e.occupation,initialDeposit:e.initialDeposit,monthlyIncome:e.monthlyIncome,sex:e.sex,branch:e.branch,currency:e.currency,photo:e.photo,residenceCard:e.residenceCard,passport:e.passport,confirmationForm:e.confirmationForm,percentageCompleted:e.percentageCompleted,signature:e.signature,accountType:e.accountType,status:e.status,createdAt:(0,C.Z)(new Date(e.createdAt),"MMMM do, yyyy"),updatedAt:(0,C.Z)(new Date(e.updatedAt),"MMMM do, yyyy")}));return a.jsx("div",{children:a.jsx(P,{data:r})})}},44728:(e,t,r)=>{"use strict";r.d(t,{X:()=>E});var a=r(53854),s=r(34218),n=r(93836),o=r(81951),i=r(65864),c=r(64667),l=r(76026),d=r(50024),u=r(5440),p=r(55572),h=r(59280);let m="Checkbox",[x,g]=(0,i.b)(m),[y,f]=x(m),v=(0,s.forwardRef)((e,t)=>{let{__scopeCheckbox:r,name:a,checked:i,defaultChecked:d,required:u,disabled:p,value:m="on",onCheckedChange:x,...g}=e,[f,v]=(0,s.useState)(null),b=(0,o.e)(t,e=>v(e)),P=(0,s.useRef)(!1),C=!f||!!f.closest("form"),[E=!1,N]=(0,l.T)({prop:i,defaultProp:d,onChange:x}),S=(0,s.useRef)(E);return(0,s.useEffect)(()=>{let e=null==f?void 0:f.form;if(e){let t=()=>N(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[f,N]),(0,s.createElement)(y,{scope:r,state:E,disabled:p},(0,s.createElement)(h.WV.button,(0,n.Z)({type:"button",role:"checkbox","aria-checked":w(E)?"mixed":E,"aria-required":u,"data-state":k(E),"data-disabled":p?"":void 0,disabled:p,value:m},g,{ref:b,onKeyDown:(0,c.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,c.M)(e.onClick,e=>{N(e=>!!w(e)||!e),C&&(P.current=e.isPropagationStopped(),P.current||e.stopPropagation())})})),C&&(0,s.createElement)(j,{control:f,bubbles:!P.current,name:a,value:m,checked:E,required:u,disabled:p,style:{transform:"translateX(-100%)"}}))}),b=(0,s.forwardRef)((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...o}=e,i=f("CheckboxIndicator",r);return(0,s.createElement)(p.z,{present:a||w(i.state)||!0===i.state},(0,s.createElement)(h.WV.span,(0,n.Z)({"data-state":k(i.state),"data-disabled":i.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}),j=e=>{let{control:t,checked:r,bubbles:a=!0,...o}=e,i=(0,s.useRef)(null),c=(0,d.D)(r),l=(0,u.t)(t);return(0,s.useEffect)(()=>{let e=i.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked"),n=s.set;if(c!==r&&n){let t=new Event("click",{bubbles:a});e.indeterminate=w(r),n.call(e,!w(r)&&r),e.dispatchEvent(t)}},[c,r,a]),(0,s.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!w(r)&&r},o,{tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function w(e){return"indeterminate"===e}function k(e){return w(e)?"indeterminate":e?"checked":"unchecked"}var P=r(79931),C=r(56370);let E=s.forwardRef(({className:e,...t},r)=>a.jsx(v,{ref:r,className:(0,C.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(b,{className:(0,C.cn)("flex items-center justify-center text-current"),children:a.jsx(P.nQG,{className:"h-4 w-4"})})}));E.displayName=v.displayName},73549:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(23708);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Backpack",[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z",key:"wvr1b5"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}],["path",{d:"M8 21v-5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v5",key:"xk3gvk"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}]])},70242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>c});var a=r(95153);let s=(0,a.createProxy)(String.raw`D:\Projects\diaspora-portal\app\admin\accounts\layout.tsx`),{__esModule:n,$$typeof:o}=s,i=s.default,c=i},80765:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>c});var a=r(95153);let s=(0,a.createProxy)(String.raw`D:\Projects\diaspora-portal\app\admin\accounts\page.tsx`),{__esModule:n,$$typeof:o}=s,i=s.default,c=i}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[271,635,827,273,929,441,187,802,246,36,694,621],()=>r(44557));module.exports=a})();