(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{73489:function(e,r,t){Promise.resolve().then(t.bind(t,86171))},61662:function(e,r,t){"use strict";t.d(r,{AW:function(){return n},Md:function(){return a},r4:function(){return o}});let s="https://10.1.177.121:8881/",n=async()=>{try{let e=await fetch("".concat(s,"api/v1/users")),r=await e.json();return r}catch(e){throw console.error("Error:",e),e}},o=async e=>{try{let r=await fetch("".concat(s,"api/v1/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error("Request failed with status: ".concat(r.status));let t=await r.json();return t}catch(e){throw console.error("Error:",e),e}},a=async e=>{try{let r=await fetch("".concat(s,"login"),{method:"POST",body:JSON.stringify(e)});if(!r.ok){if(401===r.status)throw Error("Please check your username and password.");throw Error("Request failed with status: ".concat(r.status))}let t=await r.json();return t}catch(e){if(e instanceof TypeError)throw Error("Network error: Unable to connect to the server.");throw console.error("Error:",e),e}}},29571:function(e,r,t){"use strict";t.r(r),t.d(r,{AuthProvider:function(){return c},useAuth:function(){return l}});var s=t(57437),n=t(2265),o=t(83822),a=t.n(o);let i=(0,n.createContext)(void 0),c=e=>{let{children:r}=e,[t,o]=(0,n.useState)(""),[c,l]=(0,n.useState)("");return(0,n.useEffect)(()=>{o(localStorage.getItem("access_token")||""),l(localStorage.getItem("refresh_token")||"")},[]),(0,s.jsx)(i.Provider,{value:{accessToken:t,refreshToken:c,login:(e,r)=>{o(e),l(r);let t=a().decode(e),s=t.authorities;localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",r),localStorage.setItem("authorities",s)},logout:()=>{o(""),l(""),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("authorities")}},children:r})},l=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},86171:function(e,r,t){"use strict";t.r(r);var s=t(57437),n=t(23611),o=t(55477),a=t(35831),i=t(61396),c=t.n(i),l=t(2265),d=t(74578),u=t(61865),m=t(38110),f=t(5925),h=t(24033),x=t(89179),p=t(29571),g=t(61662);let w=d.z.object({username:d.z.string().min(1),password:d.z.string().min(1)});r.default=function(){let{login:e}=(0,p.useAuth)(),[r,t]=(0,l.useState)(!1),i=(0,h.useRouter)(),d=(0,u.cI)({resolver:(0,m.F)(w),defaultValues:{username:"",password:""}}),v=async r=>{try{t(!0);let s=await (0,g.Md)(r);s.access_token&&(e(s.access_token,s.refresh_token),i.push("/admin"),i.refresh(),f.Am.success("Login success"))}catch(e){console.error("Error is this:",e.message),"Please check your username and password."===e.message?f.Am.error("Invalid username or password"):"Network error: Unable to connect to the server."===e.message?f.Am.error("Network error: Unable to connect to the server"):f.Am.error("Something went wrong!")}finally{t(!1)}};return(0,s.jsx)("div",{className:"w-full max-w-xl mt-8 xl:w-5/12",children:(0,s.jsx)("div",{className:"p-6 bg-white rounded shadow border border-gray-100 sm:p-10 dark:bg-gray-800",children:(0,s.jsx)(x.l0,{...d,children:(0,s.jsx)("form",{onSubmit:d.handleSubmit(v),className:"space-y-8 w-full",children:(0,s.jsxs)("div",{className:"space-y-4 md:space-y-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(x.Wi,{control:d.control,name:"username",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.xJ,{children:[(0,s.jsx)(x.lX,{children:"Username:"}),(0,s.jsx)(x.NI,{children:(0,s.jsx)(a.I,{type:"text",className:"ring-1",placeholder:"johndoe@example.com",disabled:r,...t})}),(0,s.jsx)(x.zG,{})]})}})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(x.Wi,{control:d.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.xJ,{children:[(0,s.jsx)(x.lX,{children:"Password:"}),(0,s.jsx)(x.NI,{children:(0,s.jsx)(a.I,{type:"password",className:"ring-1",placeholder:"••••••••",disabled:r,...t})}),(0,s.jsx)(x.zG,{})]})}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.X,{id:"terms"}),(0,s.jsx)("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"})]}),(0,s.jsx)(c(),{href:"/auth/forgotpassword",className:"text-sm font-medium text-cyan-500 hover:underline dark:text-cyan-500",children:"Forgot password?"})]}),(0,s.jsx)(n.z,{disabled:r,type:"submit",className:"w-full text-white",children:"SIGN IN"}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("div",{className:"hidden alert alert-success",role:"alert"})})]})})})})})}},23611:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var s=t(57437),n=t(2265),o=t(67256),a=t(96061),i=t(81628);let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,r)=>{let{className:t,variant:n,size:a,asChild:l=!1,...d}=e,u=l?o.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:n,size:a,className:t})),ref:r,...d})});l.displayName="Button"},55477:function(e,r,t){"use strict";t.d(r,{X:function(){return c}});var s=t(57437),n=t(2265),o=t(66062),a=t(69394),i=t(81628);let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)(o.fC,{ref:r,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:(0,s.jsx)(o.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(a.nQG,{className:"h-4 w-4"})})})});c.displayName=o.fC.displayName},89179:function(e,r,t){"use strict";t.d(r,{l0:function(){return m},NI:function(){return v},Wi:function(){return h},xJ:function(){return g},lX:function(){return w},zG:function(){return y}});var s=t(57437),n=t(2265),o=t(67256),a=t(61865),i=t(81628),c=t(36743),l=t(96061);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)(c.f,{ref:r,className:(0,i.cn)(d(),t),...n})});u.displayName=c.f.displayName;let m=a.RV,f=n.createContext({}),h=e=>{let{...r}=e;return(0,s.jsx)(f.Provider,{value:{name:r.name},children:(0,s.jsx)(a.Qr,{...r})})},x=()=>{let e=n.useContext(f),r=n.useContext(p),{getFieldState:t,formState:s}=(0,a.Gc)(),o=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...o}},p=n.createContext({}),g=n.forwardRef((e,r)=>{let{className:t,...o}=e,a=n.useId();return(0,s.jsx)(p.Provider,{value:{id:a},children:(0,s.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...o})})});g.displayName="FormItem";let w=n.forwardRef((e,r)=>{let{className:t,...n}=e,{error:o,formItemId:a}=x();return(0,s.jsx)(u,{ref:r,className:(0,i.cn)(o&&"text-destructive",t),htmlFor:a,...n})});w.displayName="FormLabel";let v=n.forwardRef((e,r)=>{let{...t}=e,{error:n,formItemId:a,formDescriptionId:i,formMessageId:c}=x();return(0,s.jsx)(o.g7,{ref:r,id:a,"aria-describedby":n?"".concat(i," ").concat(c):"".concat(i),"aria-invalid":!!n,...t})});v.displayName="FormControl";let b=n.forwardRef((e,r)=>{let{className:t,...n}=e,{formDescriptionId:o}=x();return(0,s.jsx)("p",{ref:r,id:o,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",t),...n})});b.displayName="FormDescription";let y=n.forwardRef((e,r)=>{let{className:t,children:n,...o}=e,{error:a,formMessageId:c}=x(),l=a?String(null==a?void 0:a.message):n;return l?(0,s.jsx)("p",{ref:r,id:c,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",t),...o,children:l}):null});y.displayName="FormMessage"},35831:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var s=t(57437),n=t(2265),o=t(81628);let a=n.forwardRef((e,r)=>{let{className:t,type:n,...a}=e;return(0,s.jsx)("input",{type:n,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});a.displayName="Input"},81628:function(e,r,t){"use strict";t.d(r,{cn:function(){return o}});var s=t(57042),n=t(74769);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}}},function(e){e.O(0,[8310,8218,3985,5107,9233,263,9762,8326,5246,2971,2472,1744],function(){return e(e.s=73489)}),_N_E=e.O()}]);