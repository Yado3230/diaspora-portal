"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{68695:function(e,t,s){s.d(t,{LT:function(){return l},RH:function(){return d},_H:function(){return o},jj:function(){return r},tm:function(){return i},wh:function(){return n}});let a="https://10.1.177.121:8881/",l=async e=>{try{let t=new URL("".concat(a,"api/v1/accounts"));t.searchParams.append("sortBy","percentage_completed"),t.searchParams.append("sortDirection","desc"),"include"===e?t.searchParams.append("status","INITIAL"):"exclude"===e&&t.searchParams.append("statusToExclude","INITIAL");let s=await fetch(t.toString()),l=await s.json();return l}catch(e){throw console.error("Error:",e),e}},r=async e=>{try{let t=new URL("".concat(a,"api/v1/accounts/dashboard-report"));e&&t.searchParams.append("year",e.toString());let s=await fetch(t.toString()),l=await s.json();return l}catch(e){throw console.error("Error:",e),e}},n=async e=>{try{let t=new URL("".concat(a,"api/v1/accounts/monthly-dashboard-report"));e&&t.searchParams.append("year",e.toString());let s=await fetch(t.toString()),l=await s.json();return l}catch(e){throw console.error("Error:",e),e}},o=async e=>{try{let t=await fetch("".concat(a,"api/v1/accounts/").concat(e));return t.json()}catch(e){throw console.error("Error:",e),e}},i=async e=>{try{let t=await fetch("".concat(a,"api/v1/accounts/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("Request failed with status: ".concat(t.status));let s=t.ok;return s}catch(e){throw console.error("Error:",e),e}},d=async(e,t)=>{try{let s=await fetch("".concat(a,"api/v1/accounts/").concat(e,"/update-status?status=").concat(t),{method:"PUT"});if(!s.ok)throw Error("Request failed with status: ".concat(s.status));let l=s.ok;return l}catch(e){throw console.error("Error:",e),e}}},11440:function(e,t,s){s.d(t,{Z:function(){return N}});var a=s(57437),l=s(68695),r=s(23611),n=s(98266),o=s(5663),i=s(62898);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var c=s(690),u=s(28811),p=s.n(u),m=s(16691),h=s.n(m),x=s(24033),f=s(2265),v=s(5925);s(7468);let g=p()(()=>Promise.all([s.e(3070),s.e(263),s.e(2077),s.e(6233)]).then(s.t.bind(s,6233,23)),{loadableGenerated:{webpack:()=>[6233]},ssr:!1});var N=e=>{let{data:t,accounts:s}=e,i=(0,x.useRouter)(),u=localStorage.getItem("authorities"),[p,m]=(0,f.useState)(!1),[N,j]=(0,f.useState)({to:null==t?void 0:t.email,name:null==t?void 0:t.fullName,title:"Rejection Notification",subject:"Rejection of Your Account",body:'<p>Dear <strong style="color: rgb(0, 102, 204);">{{name}}</strong>,</p><p><br></p><p><br></p><p><br></p><p><br></p><p>Best regards,</p><p>Diaspora Banking</p><p>Cooperative Bank of Oromia</p>',userId:btoa(t.id.toString()),phoneNumber:null==t?void 0:t.phone,motherName:null==t?void 0:t.motherName,gender:null==t?void 0:t.sex,initialDeposit:null==t?void 0:t.initialDeposit,monthlyIncome:null==t?void 0:t.monthlyIncome,occupation:null==t?void 0:t.occupation,branch:null==t?void 0:t.branch,accountType:null==t?void 0:t.accountType,city:null==t?void 0:t.city,state:null==t?void 0:t.state}),b=e=>{let{src:t,label:s}=e;return(0,a.jsxs)("div",{className:"bg-white p-4 border rounded",children:[(0,a.jsx)(h(),{src:t,width:200,height:40,alt:s,className:"rounded-lg w-full h-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s})]})},y=async()=>{m(!0);try{await (0,l.RH)(t.id.toString(),"APPROVED"),i.refresh(),v.ZP.success("Account Approved.")}catch(e){v.ZP.error("Something went wrong!")}finally{i.back(),m(!1)}},w=async()=>{m(!0);try{let e=await fetch("/api/sendemail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});e.ok?(await (0,l.RH)(t.id.toString(),"REJECTED"),v.ZP.success("Account rejected.")):console.error("Error sending email:",await e.json()),i.refresh()}catch(e){v.ZP.error("Something went wrong!")}finally{i.back(),m(!1)}};return(0,a.jsx)("div",{className:"container mx-auto",children:(0,a.jsxs)("div",{className:"max-w-full mx-auto bg-white p-8 border rounded shadow-lg",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,a.jsx)("img",{src:null==t?void 0:t.photo,alt:"Profile Photo",className:"rounded-full border mb-4",style:{width:"150px",height:"150px"}}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-cyan-600",children:(null==t?void 0:t.accountType)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 my-10",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-6 w-full p-5 border rounded shadow",children:[(0,a.jsx)(b,{src:(null==t?void 0:t.residenceCard)||"",label:"Residence Card"}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-800 mb-2",children:(null==t?void 0:t.fullName)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})}),(0,a.jsx)("p",{className:"text-gray-600",children:(null==t?void 0:t.email)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})})]}),(0,a.jsxs)("div",{className:"col-span-2 flex flex-col gap-8 p-5 border rounded shadow",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 border-b py-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Address"}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Street Address "}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.streetAddress)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"City "}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.city)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"State "}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.state)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"ZipCode "}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.zipCode)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Country "}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.country)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Occupation"}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4 mb-5",children:[(0,a.jsx)("span",{className:"font-bold",children:"Occupation "}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.occupation)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Status"}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Status:"}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.status)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 items-center justify-center grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Completed"}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(o.E,{value:(null==t?void 0:t.percentageCompleted)?(null==t?void 0:t.percentageCompleted)*20:0}),(0,a.jsxs)("span",{children:[(null==t?void 0:t.percentageCompleted)?(null==t?void 0:t.percentageCompleted)*20:0,"%"]})]})]})]})]}),(0,a.jsxs)("div",{className:" border-b py-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Financial Information"}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Initial Deposit"}),(0,a.jsxs)("span",{children:[": $",(null==t?void 0:t.initialDeposit.toLocaleString())||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Monthly Income"}),(0,a.jsxs)("span",{children:[": $",(null==t?void 0:t.monthlyIncome.toLocaleString())||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Other Details"}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Sex"}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.sex)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Branch"}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.branch)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]}),(0,a.jsxs)("p",{className:"text-gray-600 grid grid-cols-2 gap-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Account Type"}),(0,a.jsxs)("span",{children:[":"," ",(null==t?void 0:t.accountType)||(0,a.jsx)("span",{className:"text-red-400",children:"Not Filled"})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 mb-8",children:[(0,a.jsx)(b,{src:(null==t?void 0:t.passport)||"",label:"".concat((null==t?void 0:t.passport)?"Passport":"Not Uploaded")}),(0,a.jsx)(b,{src:(null==t?void 0:t.signature)||"",label:"".concat((null==t?void 0:t.passport)?"Signature":"Not Uploaded")}),(0,a.jsx)(b,{src:(null==t?void 0:t.confirmationForm)||"",label:"".concat((null==t?void 0:t.passport)?"Confirmation Form":"Not Uploaded")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end border-t pt-5",children:[(0,a.jsx)(r.z,{className:"ml-2 border",size:"sm",onClick:()=>i.back(),variant:"secondary",children:"Cancel"}),s&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"".concat(!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))&&"cursor-not-allowed"),title:"".concat(!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))&&"Not Authorized"),children:(0,a.jsxs)(n.J2,{children:[(0,a.jsx)(n.xo,{asChild:!0,children:(0,a.jsxs)(r.z,{disabled:!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))||p||(null==t?void 0:t.status)==="REJECTED"||(null==t?void 0:t.status)==="APPROVED",className:"ml-2 border",size:"sm",variant:"destructive",children:[(0,a.jsx)(d,{className:"mr-2 h-4 w-4"}),"Reject"]})}),(0,a.jsx)(n.yk,{className:"w-[480px] mr-20 h-[420px]",children:(0,a.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(g,{theme:"snow",style:{height:"250px",fontFamily:"Arial, sans-serif"},modules:{toolbar:[[{font:[]}],[{header:[1,2,3]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],["link","image","video"],["clean"]]},value:N.body,onChange:e=>{j({...N,body:e})}})}),(0,a.jsx)("div",{className:"self-end",children:(0,a.jsxs)(r.z,{disabled:!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))||p||(null==t?void 0:t.status)==="REJECTED"||(null==t?void 0:t.status)==="APPROVED",className:"ml-2 border",size:"sm",variant:"destructive",onClick:w,children:[(0,a.jsx)(d,{className:"mr-2 h-4 w-4"}),"Confirm Rejection"]})})]})})]})}),(0,a.jsx)("div",{className:"".concat(!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))&&"cursor-not-allowed"),title:"".concat(!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))&&"Not Authorized"),children:(0,a.jsxs)(r.z,{disabled:!((null==u?void 0:u.includes("EDIT_ACCOUNT"))||(null==u?void 0:u.includes("WRITE_ACCOUNT")))||p||(null==t?void 0:t.status)==="REJECTED"||(null==t?void 0:t.status)==="APPROVED",className:"ml-2 border bg-cyan-500",size:"sm",onClick:y,children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Approve"]})})]})]})]})})}},23611:function(e,t,s){s.d(t,{z:function(){return d}});var a=s(57437),l=s(2265),r=s(67256),n=s(96061),o=s(81628);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:s,variant:l,size:n,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:l,size:n,className:s})),ref:t,...c})});d.displayName="Button"},98266:function(e,t,s){s.d(t,{J2:function(){return o},xo:function(){return i},yk:function(){return d}});var a=s(57437),l=s(2265),r=s(65050),n=s(81628);let o=r.fC,i=r.xz,d=l.forwardRef((e,t)=>{let{className:s,align:l="center",sideOffset:o=4,...i}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsx)(r.VY,{ref:t,align:l,sideOffset:o,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});d.displayName=r.VY.displayName},5663:function(e,t,s){s.d(t,{E:function(){return b}});var a=s(57437),l=s(2265),r=s(13428),n=s(56989),o=s(9381);let i="Progress",[d,c]=(0,n.b)(i),[u,p]=d(i),m=(0,l.forwardRef)((e,t)=>{let{__scopeProgress:s,value:a,max:n,getValueLabel:i=x,...d}=e,c=g(n)?n:100,p=N(a,c)?a:null,m=v(p)?i(p,c):void 0;return(0,l.createElement)(u,{scope:s,value:p,max:c},(0,l.createElement)(o.WV.div,(0,r.Z)({"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":v(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":f(p,c),"data-value":null!=p?p:void 0,"data-max":c},d,{ref:t})))});m.propTypes={max(e,t,s){let a=e[t],l=String(a);return a&&!g(a)?Error(`Invalid prop \`max\` of value \`${l}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`):null},value(e,t,s){let a=e[t],l=String(a),r=g(e.max)?e.max:100;return null==a||N(a,r)?null:Error(`Invalid prop \`value\` of value \`${l}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`)}};let h=(0,l.forwardRef)((e,t)=>{var s;let{__scopeProgress:a,...n}=e,i=p("ProgressIndicator",a);return(0,l.createElement)(o.WV.div,(0,r.Z)({"data-state":f(i.value,i.max),"data-value":null!==(s=i.value)&&void 0!==s?s:void 0,"data-max":i.max},n,{ref:t}))});function x(e,t){return`${Math.round(e/t*100)}%`}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function N(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}var j=s(81628);let b=l.forwardRef((e,t)=>{let{className:s,value:l,...r}=e;return(0,a.jsx)(m,{ref:t,className:(0,j.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...r,children:(0,a.jsx)(h,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});b.displayName=m.displayName},81628:function(e,t,s){s.d(t,{cn:function(){return r}});var a=s(57042),l=s(74769);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}},36304:function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let a=s(21024),l=a._(s(2265)),r=l.default.createContext(null)},30622:function(e,t,s){var a=s(2265),l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var a,r={},d=null,c=null;for(a in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,a)&&!i.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:l,type:e,key:d,ref:c,props:r,_owner:o.current}}t.Fragment=r,t.jsx=d,t.jsxs=d},57437:function(e,t,s){e.exports=s(30622)}}]);